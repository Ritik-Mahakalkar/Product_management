import React, { useState, useEffect } from "react";
import axios from "axios";
import Swal from "sweetalert2";

import "./ProductManagement.css";

const ProductManagement = () => {
    const [products, setProducts] = useState([]);
    const [search, setSearch] = useState("");
    const [filterCategory, setFilterCategory] = useState("");
    const [isModalOpen, setIsModalOpen] = useState(false);
    const [currentPage, setCurrentPage] = useState(1);
    const itemsPerPage = 6;

    useEffect(() => {
        fetchProducts();
    }, [search, filterCategory]);

    const fetchProducts = async () => {
        const response = await axios.get("http://localhost:5000/products");
        let filteredProducts = response.data;

        if (search) {
            filteredProducts = filteredProducts.filter(p => p.name.toLowerCase().includes(search.toLowerCase()));
        }
        if (filterCategory) {
            filteredProducts = filteredProducts.filter(p => p.category === filterCategory);
        }

        setProducts(filteredProducts);
        setCurrentPage(1); // Reset to first page after filtering or searching
    };

    // Pagination logic
    const indexOfLastProduct = currentPage * itemsPerPage;
    const indexOfFirstProduct = indexOfLastProduct - itemsPerPage;
    const currentProducts = products.slice(indexOfFirstProduct, indexOfLastProduct);
    const totalPages = Math.ceil(products.length / itemsPerPage);

    const openProductForm = (product = {}) => {
        setIsModalOpen(true);

        Swal.fire({
            title: product.id ? "Edit Product" : "Add Product",
            html: `
                <input type="text" id="name" class="swal2-input" placeholder="Product Name" value="${product.name || ''}">
                <input type="text" id="description" class="swal2-input" placeholder="Description" value="${product.description || ''}">
                <input type="number" id="price" class="swal2-input" placeholder="Price" value="${product.price || ''}">
                <select id="category" class="swal2-input">
                    <option value="">Select Category</option>
                    <option value="daily" ${product.category === "daily" ? "selected" : ""}>Daily</option>
                    <option value="food" ${product.category === "food" ? "selected" : ""}>Food</option>
                    <option value="fruit" ${product.category === "fruit" ? "selected" : ""}>Fruit</option>
                    <option value="other" ${product.category === "other" ? "selected" : ""}>Other</option>
                </select>
                <input type="number" id="stock" class="swal2-input" placeholder="Stock" value="${product.stock || ''}">
                <input type="file" id="image" class="swal2-file">
            `,
            showCancelButton: true,
            confirmButtonText: product.id ? "Update" : "Add",
            preConfirm: async () => {
                const formData = new FormData();
                formData.append("name", document.getElementById("name").value);
                formData.append("description", document.getElementById("description").value);
                formData.append("price", document.getElementById("price").value);
                formData.append("category", document.getElementById("category").value);
                formData.append("stock", document.getElementById("stock").value);

                const fileInput = document.getElementById("image");
                if (fileInput.files[0]) {
                    formData.append("image", fileInput.files[0]);
                }

                if (product.id) {
                    await axios.put(`http://localhost:5000/products/${product.id}`, formData);
                } else {
                    await axios.post("http://localhost:5000/products", formData);
                }

                fetchProducts();
                setIsModalOpen(false);
                Swal.fire("Success!", "Product saved successfully!", "success");
            }
        }).finally(() => setIsModalOpen(false));
    };

    const deleteProduct = async (id) => {
        const result = await Swal.fire({
            title: "Are you sure?",
            text: "You won't be able to revert this!",
            icon: "warning",
            showCancelButton: true,
            confirmButtonText: "Yes, delete it!",
        });

        if (result.isConfirmed) {
            await axios.delete(`http://localhost:5000/products/${id}`);
            fetchProducts();
            Swal.fire("Deleted!", "The product has been deleted.", "success");
        }
    };

    return (
        <div className="container mt-4">
            <header className="header d-flex justify-content-between align-items-center">
                <h2>Product Management System</h2>
                <button className="btn btn-success" onClick={() => openProductForm()}>+ Add Product</button>
            </header>

            <div className="search-filter mt-3">
                <input type="text" className="form-control" placeholder="Search products..." value={search} onChange={(e) => setSearch(e.target.value)} />
                <select className="form-select mt-2" value={filterCategory} onChange={(e) => setFilterCategory(e.target.value)}>
                    <option value="">All Categories</option>
                    <option value="daily">Daily</option>
                    <option value="food">Food</option>
                    <option value="fruit">Fruit</option>
                    <option value="other">Other</option>
                </select>
            </div>

            {!isModalOpen && (
                <div className="product-grid mt-4">
                    {currentProducts.map(product => (
                        <div className="product-card" key={product.id}>
                            <img src={`http://localhost:5000/uploads/${product.image}`} alt={product.name} className="product-image" />
                            <div className="product-details">
                                <h5>{product.name}</h5>
                                <p>{product.description}</p>
                                <p><strong><i class="fa fa-rupee"></i> :</strong>{product.price}</p>
                                <p><strong>Stock:</strong> {product.stock} Items</p>
                                <div className="product-actions">
                                    <button className="btn btn-warning" onClick={() => openProductForm(product)}><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="40" height="40" viewBox="0 0 100 100">
<path fill="#78a0cf" d="M13 27A2 2 0 1 0 13 31A2 2 0 1 0 13 27Z"></path><path fill="#f1bc19" d="M77 12A1 1 0 1 0 77 14A1 1 0 1 0 77 12Z"></path><path fill="#cee1f4" d="M50 13A37 37 0 1 0 50 87A37 37 0 1 0 50 13Z"></path><path fill="#f1bc19" d="M83 11A4 4 0 1 0 83 19A4 4 0 1 0 83 11Z"></path><path fill="#78a0cf" d="M87 22A2 2 0 1 0 87 26A2 2 0 1 0 87 22Z"></path><path fill="#fbcd59" d="M81 74A2 2 0 1 0 81 78 2 2 0 1 0 81 74zM15 59A4 4 0 1 0 15 67 4 4 0 1 0 15 59z"></path><path fill="#78a0cf" d="M25 85A2 2 0 1 0 25 89A2 2 0 1 0 25 85Z"></path><path fill="#fff" d="M18.5 51A2.5 2.5 0 1 0 18.5 56A2.5 2.5 0 1 0 18.5 51Z"></path><path fill="#f1bc19" d="M21 66A1 1 0 1 0 21 68A1 1 0 1 0 21 66Z"></path><path fill="#fff" d="M80 33A1 1 0 1 0 80 35A1 1 0 1 0 80 33Z"></path><g><path fill="#f1bc19" d="M65,28c3.86,0,7,3.14,7,7v30c0,3.86-3.14,7-7,7H35c-3.86,0-7-3.14-7-7V35c0-3.86,3.14-7,7-7H65"></path><path fill="#472b29" d="M65,28.4c3.639,0,6.6,2.961,6.6,6.6v30c0,3.639-2.961,6.6-6.6,6.6H35c-3.639,0-6.6-2.961-6.6-6.6V35 c0-3.639,2.961-6.6,6.6-6.6H65 M65,27H35c-4.418,0-8,3.582-8,8v30c0,4.418,3.582,8,8,8h30c4.418,0,8-3.582,8-8V35 C73,30.582,69.418,27,65,27L65,27z"></path><path fill="#fdfcee" d="M63,69H37c-3.309,0-6-2.691-6-6V37c0-3.309,2.691-6,6-6h26c3.309,0,6,2.691,6,6v26 C69,66.309,66.309,69,63,69z"></path><path fill="#472b29" d="M63 69H37c-3.309 0-6-2.691-6-6V37c0-3.309 2.691-6 6-6h24.625C61.832 31 62 31.168 62 31.375s-.168.375-.375.375H37c-2.895 0-5.25 2.355-5.25 5.25v26c0 2.895 2.355 5.25 5.25 5.25h26c2.895 0 5.25-2.355 5.25-5.25V48.375c0-.207.168-.375.375-.375S69 48.168 69 48.375V63C69 66.309 66.309 69 63 69zM68.625 42c-.207 0-.375-.168-.375-.375v-1.278c0-.207.168-.375.375-.375S69 40.14 69 40.347v1.278C69 41.832 68.832 42 68.625 42z"></path><path fill="#472b29" d="M68.625,47c-0.207,0-0.375-0.168-0.375-0.375v-3.25c0-0.207,0.168-0.375,0.375-0.375 S69,43.168,69,43.375v3.25C69,46.832,68.832,47,68.625,47z"></path></g><g><path fill="#f1bc19" d="M57.687,39.376c-0.401,0-0.75,0.119-1,0.368L42.311,54.132c-0.463,0.465-1.438,3.042-2.149,4.922 c-0.322,0.851-0.597,1.574-0.757,1.933c-0.056,0.125-0.03,0.261,0.066,0.358l0.155,0.155c0.122,0.123,0.305,0.159,0.468,0.086 c0.417-0.188,1.188-0.481,2.083-0.82c1.907-0.724,4.256-1.615,4.702-2.061l14.377-14.39c0.743-0.744,0.323-2.376-0.936-3.637 C59.483,39.842,58.482,39.376,57.687,39.376z"></path><path fill="#fdfcee" d="M42.311,54.132c-0.463,0.465-1.438,3.042-2.149,4.922c-0.322,0.851-0.597,1.574-0.757,1.933 c-0.056,0.125-0.03,0.261,0.066,0.358l0.155,0.155c0.122,0.123,0.305,0.159,0.468,0.086c0.417-0.188,1.188-0.481,2.083-0.82 c1.907-0.724,4.256-1.615,4.702-2.061l0.003-0.003L42.311,54.132z"></path><path fill="#4a5397" d="M40.181,59.003c-0.006,0.017-0.013,0.035-0.02,0.052c-0.322,0.851-0.597,1.574-0.757,1.933 c-0.056,0.125-0.03,0.261,0.066,0.358l0.155,0.155c0.122,0.123,0.305,0.159,0.468,0.086c0.39-0.176,1.095-0.445,1.916-0.756 L40.181,59.003z"></path><path fill="#7782ac" d="M55.385 41.048H58.193V47.5H55.385z" transform="rotate(-45.001 56.788 44.275)"></path><path fill="#fcb9b9" d="M60.036,45.536l1.219-1.22c0.743-0.744,0.323-2.376-0.936-3.637 c-0.836-0.837-1.837-1.303-2.632-1.303c-0.401,0-0.75,0.119-1,0.368l-1.221,1.222L60.036,45.536z"></path></g><g><path fill="#472b29" d="M57.69,39.75L57.69,39.75c0.722,0,1.628,0.458,2.364,1.194c1.208,1.21,1.459,2.583,0.936,3.107 L46.612,58.441c-0.389,0.389-2.893,1.339-4.55,1.968l-0.075,0.028c-0.875,0.332-1.63,0.619-2.097,0.798l-0.129-0.129 c0.173-0.394,0.454-1.136,0.751-1.92c0.62-1.639,1.658-4.382,2.064-4.789L56.952,40.01C57.125,39.837,57.373,39.75,57.69,39.75 M57.69,39c-0.501,0-0.944,0.155-1.268,0.479L42.046,53.867c-0.481,0.482-1.264,2.486-2.235,5.054 c-0.319,0.842-0.59,1.558-0.749,1.913c-0.119,0.265-0.063,0.569,0.142,0.775l0.156,0.156C39.513,61.919,39.715,62,39.921,62 c0.11,0,0.222-0.024,0.327-0.071c0.408-0.185,1.183-0.478,2.08-0.819c2.525-0.958,4.35-1.673,4.815-2.139l14.378-14.389 c0.905-0.906,0.494-2.736-0.936-4.167C59.668,39.497,58.586,39,57.69,39L57.69,39z"></path><path fill="#472b29" d="M44.346 53.186H44.846V59.65H44.346z" transform="rotate(-45.001 44.59 56.416)"></path><path fill="#472b29" d="M40.839 58.497H41.339V61.325H40.839z" transform="rotate(-45.001 41.088 59.912)"></path><path fill="#472b29" d="M55.546 42.04H56.046V48.492H55.546z" transform="rotate(-45.001 55.796 45.267)"></path><path fill="#472b29" d="M57.531 40.055H58.031V46.507H57.531z" transform="rotate(-45.001 57.781 43.282)"></path><path fill="#472b29" d="M54.615 44.049L54.385 43.951 55.51 41.326 55.74 41.424zM55.49 44.799L55.26 44.701 56.385 42.076 56.615 42.174zM56.365 45.549L56.135 45.451 57.26 42.826 57.49 42.924zM57.144 46.522L56.915 46.424 58.135 43.576 58.365 43.674zM57.981 47.361L57.751 47.263 59.01 44.326 59.24 44.424z"></path></g>
</svg></button>
                                    <button className="btn btn-danger" onClick={() => deleteProduct(product.id)}><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="40" height="40" viewBox="0 0 100 100">
<path fill="#c7ede6" d="M87.215,56.71C88.35,54.555,89,52.105,89,49.5c0-6.621-4.159-12.257-10.001-14.478 C78.999,35.015,79,35.008,79,35c0-11.598-9.402-21-21-21c-9.784,0-17.981,6.701-20.313,15.757C36.211,29.272,34.638,29,33,29 c-7.692,0-14.023,5.793-14.89,13.252C12.906,43.353,9,47.969,9,53.5C9,59.851,14.149,65,20.5,65c0.177,0,0.352-0.012,0.526-0.022 C21.022,65.153,21,65.324,21,65.5C21,76.822,30.178,86,41.5,86c6.437,0,12.175-2.972,15.934-7.614C59.612,80.611,62.64,82,66,82 c4.65,0,8.674-2.65,10.666-6.518C77.718,75.817,78.837,76,80,76c6.075,0,11-4.925,11-11C91,61.689,89.53,58.727,87.215,56.71z"></path><path fill="#fff" d="M21.5 46h-10c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h10c.276 0 .5.224.5.5S21.777 46 21.5 46zM24.5 46h-1c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h1c.276 0 .5.224.5.5S24.777 46 24.5 46zM29.491 48H20.5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h8.991c.276 0 .5.224.5.5S29.767 48 29.491 48zM18.5 48h-1c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h1c.276 0 .5.224.5.5S18.777 48 18.5 48zM15.5 48h-2c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h2c.276 0 .5.224.5.5S15.777 48 15.5 48zM21.5 50h-2c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h2c.276 0 .5.224.5.5S21.776 50 21.5 50zM24.5 41c-.177 0-.823 0-1 0-.276 0-.5.224-.5.5 0 .276.224.5.5.5.177 0 .823 0 1 0 .276 0 .5-.224.5-.5C25 41.224 24.776 41 24.5 41zM24.5 43c-.177 0-4.823 0-5 0-.276 0-.5.224-.5.5 0 .276.224.5.5.5.177 0 4.823 0 5 0 .276 0 .5-.224.5-.5C25 43.224 24.776 43 24.5 43zM29.5 45c-.177 0-2.823 0-3 0-.276 0-.5.224-.5.5 0 .276.224.5.5.5.177 0 2.823 0 3 0 .276 0 .5-.224.5-.5C30 45.224 29.776 45 29.5 45z"></path><g><path fill="#fdfcef" d="M37,70c0,0,2.067-0.5,4-0.5s3.5-1.567,3.5-3.5c0-1.781-1.335-3.234-3.055-3.455 C41.473,62.366,41.5,62.187,41.5,62c0-1.933-1.567-3.5-3.5-3.5c-1.032,0-1.95,0.455-2.59,1.165 c-0.384-1.808-1.987-3.165-3.91-3.165c-2.209,0-4,1.791-4,4c0,0.191,0.03,0.374,0.056,0.558C27.128,60.714,26.592,60.5,26,60.5 c-1.228,0-2.245,0.887-2.455,2.055C23.366,62.527,23.187,62.5,23,62.5c-1.933,0-3.5,1.567-3.5,3.5s1.567,3.5,3.5,3.5s5,0.5,5,0.5 H37z"></path><path fill="#472b29" d="M39.25 65C39.112 65 39 64.888 39 64.75c0-1.223.995-2.218 2.218-2.218.034.009.737-.001 1.244.136.133.036.212.173.176.306-.036.134-.173.213-.306.176-.444-.12-1.1-.12-1.113-.118-.948 0-1.719.771-1.719 1.718C39.5 64.888 39.388 65 39.25 65zM30.5 69A.5.5 0 1 0 30.5 70 .5.5 0 1 0 30.5 69z"></path><path fill="#472b29" d="M41,70h-5.5c-0.276,0-0.5-0.224-0.5-0.5s0.224-0.5,0.5-0.5H41c1.654,0,3-1.346,3-3 c0-1.496-1.125-2.768-2.618-2.959c-0.134-0.018-0.255-0.088-0.336-0.196s-0.115-0.244-0.094-0.377C40.975,62.314,41,62.16,41,62 c0-1.654-1.346-3-3-3c-0.85,0-1.638,0.355-2.219,1c-0.125,0.139-0.321,0.198-0.5,0.148c-0.182-0.049-0.321-0.195-0.36-0.379 C34.58,58.165,33.141,57,31.5,57c-1.93,0-3.5,1.57-3.5,3.5c0,0.143,0.021,0.28,0.041,0.418c0.029,0.203-0.063,0.438-0.242,0.54 c-0.179,0.102-0.396,0.118-0.556-0.01C26.878,61.155,26.449,61,26,61c-0.966,0-1.792,0.691-1.963,1.644 c-0.048,0.267-0.296,0.446-0.569,0.405C23.314,63.025,23.16,63,23,63c-1.654,0-3,1.346-3,3s1.346,3,3,3h5.5 c0.276,0,0.5,0.224,0.5,0.5S28.776,70,28.5,70H23c-2.206,0-4-1.794-4-4s1.794-4,4-4c0.059,0,0.116,0.002,0.174,0.006 C23.588,60.82,24.711,60,26,60c0.349,0,0.689,0.061,1.011,0.18C27.176,57.847,29.126,56,31.5,56c1.831,0,3.466,1.127,4.153,2.774 C36.333,58.276,37.155,58,38,58c2.206,0,4,1.794,4,4c0,0.048-0.001,0.095-0.004,0.142C43.739,62.59,45,64.169,45,66 C45,68.206,43.206,70,41,70z"></path><path fill="#472b29" d="M33.5,69c-0.159,0-0.841,0-1,0c-0.276,0-0.5,0.224-0.5,0.5c0,0.276,0.224,0.5,0.5,0.5 c0.159,0,0.841,0,1,0c0.276,0,0.5-0.224,0.5-0.5C34,69.224,33.776,69,33.5,69z"></path></g><g><path fill="#8a8ac0" d="M63,30c3.308,0,6,2.692,6,6v4.5l-2.6,2.7L66,43.5V44v23c0,3.86-3.14,7-7,7H45c-3.86,0-7-3.14-7-7V44 v-0.5l-0.4-0.3L35,40.5V36c0-3.308,2.692-6,6-6H63"></path><path fill="#a2a2cc" d="M69,37v-1c0-3.308-2.692-6-6-6H41c-3.308,0-6,2.692-6,6v1H69z"></path><path fill="#472b29" d="M63,30.4c3.088,0,5.6,2.512,5.6,5.6v4.32l-0.008,0.009l-2.6,2.7L65.6,43.436V44v23 c0,3.639-2.961,6.6-6.6,6.6H45c-3.639,0-6.6-2.961-6.6-6.6V44v-0.564l-0.392-0.407l-2.6-2.7L35.4,40.32V36 c0-3.088,2.512-5.6,5.6-5.6H63 M63,29H41c-3.866,0-7,3.134-7,7v4.5c0,0.315,0.148,0.611,0.4,0.8L37,44v23c0,4.418,3.582,8,8,8h14 c4.418,0,8-3.582,8-8V44l2.6-2.7c0.252-0.189,0.4-0.485,0.4-0.8V36C70,32.134,66.866,29,63,29L63,29z"></path><path fill="#472b29" d="M35 36.6H69V38H35zM61.75 34.5H35c-.138 0-.25-.112-.25-.25S34.862 34 35 34h26.75c.138 0 .25.112.25.25S61.888 34.5 61.75 34.5zM65.75 34.5h-1.5c-.138 0-.25-.112-.25-.25S64.112 34 64.25 34h1.5c.138 0 .25.112.25.25S65.888 34.5 65.75 34.5zM59 28c0-1.657-1.343-3-3-3h-8c-1.657 0-3 1.343-3 3v1.625h1.4V28c0-.882.718-1.6 1.6-1.6h8c.882 0 1.6.718 1.6 1.6v1.625H59V28zM35 40H69V40.5H35zM39 71H65V71.75H39z"></path><path fill="#6869ad" d="M62.625,45c0-0.897-0.728-1.625-1.625-1.625S59.375,44.103,59.375,45c0,0.777,0,20.222,0,21 c0,0.897,0.728,1.625,1.625,1.625s1.625-0.728,1.625-1.625C62.625,65.222,62.625,45.777,62.625,45z"></path><path fill="#472b29" d="M61,68c-1.103,0-2-0.897-2-2V45c0-1.103,0.897-2,2-2s2,0.897,2,2v21C63,67.103,62.103,68,61,68z M61,43.75c-0.689,0-1.25,0.561-1.25,1.25v21c0,0.689,0.561,1.25,1.25,1.25s1.25-0.561,1.25-1.25V45 C62.25,44.311,61.689,43.75,61,43.75z"></path><path fill="#6869ad" d="M56.625,45c0-0.897-0.728-1.625-1.625-1.625S53.375,44.103,53.375,45c0,0.777,0,20.222,0,21 c0,0.897,0.728,1.625,1.625,1.625s1.625-0.728,1.625-1.625C56.625,65.222,56.625,45.777,56.625,45z"></path><path fill="#472b29" d="M55,68c-1.103,0-2-0.897-2-2V45c0-1.103,0.897-2,2-2s2,0.897,2,2v21C57,67.103,56.103,68,55,68z M55,43.75c-0.689,0-1.25,0.561-1.25,1.25v21c0,0.689,0.561,1.25,1.25,1.25s1.25-0.561,1.25-1.25V45 C56.25,44.311,55.689,43.75,55,43.75z"></path><path fill="#6869ad" d="M50.625,45c0-0.897-0.728-1.625-1.625-1.625S47.375,44.103,47.375,45c0,0.777,0,20.222,0,21 c0,0.897,0.728,1.625,1.625,1.625s1.625-0.728,1.625-1.625C50.625,65.222,50.625,45.777,50.625,45z"></path><path fill="#472b29" d="M49,68c-1.103,0-2-0.897-2-2V45c0-1.103,0.897-2,2-2s2,0.897,2,2v21C51,67.103,50.103,68,49,68z M49,43.75c-0.689,0-1.25,0.561-1.25,1.25v21c0,0.689,0.561,1.25,1.25,1.25s1.25-0.561,1.25-1.25V45 C50.25,44.311,49.689,43.75,49,43.75z"></path><g><path fill="#6869ad" d="M44.625,45c0-0.897-0.728-1.625-1.625-1.625S41.375,44.103,41.375,45c0,0.447,0,5.934,0,11.625H41 v7.75h0.375c0,0,0,1.515,0,1.625c0,0.897,0.728,1.625,1.625,1.625s1.625-0.728,1.625-1.625C44.625,65.222,44.625,45.777,44.625,45 z"></path><path fill="#472b29" d="M43,68c-1.103,0-2-0.897-2-2v-1.625C41,64.168,41.168,64,41.375,64s0.375,0.168,0.375,0.375V66 c0,0.689,0.561,1.25,1.25,1.25s1.25-0.561,1.25-1.25V45c0-0.689-0.561-1.25-1.25-1.25s-1.25,0.561-1.25,1.25v11.625 c0,0.207-0.168,0.375-0.375,0.375S41,56.832,41,56.625V45c0-1.103,0.897-2,2-2s2,0.897,2,2v21C45,67.103,44.103,68,43,68z"></path><path fill="#472b29" d="M41.375,60C41.168,60,41,59.832,41,59.625v-1.25C41,58.168,41.168,58,41.375,58 s0.375,0.168,0.375,0.375v1.25C41.75,59.832,41.582,60,41.375,60z"></path></g><path fill="#472b29" d="M38 54.6h-1c-.882 0-1.6-.718-1.6-1.6v-4c0-.882.718-1.6 1.6-1.6h1V46h-1c-1.657 0-3 1.343-3 3v4c0 1.657 1.343 3 3 3h1V54.6zM66 47.4h1c.882 0 1.6.718 1.6 1.6v4c0 .882-.718 1.6-1.6 1.6h-1V56h1c1.657 0 3-1.343 3-3v-4c0-1.657-1.343-3-3-3h-1V47.4z"></path></g><g><path fill="#fdfcef" d="M70,77h7l3-0.5c2.485,0,4.5-2.015,4.5-4.5c0-2.333-1.782-4.229-4.055-4.455 C80.467,67.364,80.5,67.187,80.5,67c0-2.485-2.015-4.5-4.5-4.5c-1.438,0-2.703,0.686-3.527,1.736 C72.333,61.6,70.171,59.5,67.5,59.5c-2.761,0-5,2.239-5,5c0,0.446,0.077,0.87,0.187,1.282C62.045,65.005,61.086,64.5,60,64.5 c-1.781,0-3.234,1.335-3.455,3.055C56.364,67.533,56.187,67.5,56,67.5c-2.485,0-4.5,2.015-4.5,4.5s2.015,4.5,4.5,4.5s9.5,0,9.5,0 L70,77z"></path><path fill="#472b29" d="M67.5,59c-3.033,0-5.5,2.467-5.5,5.5c0,0.016,0,0.031,0,0.047C61.398,64.192,60.71,64,60,64 c-1.831,0-3.411,1.261-3.858,3.005C56.095,67.002,56.048,67,56,67c-2.757,0-5,2.243-5,5s2.243,5,5,5h15.5 c0.276,0,0.5-0.224,0.5-0.5S71.776,76,71.5,76H56c-2.206,0-4-1.794-4-4s1.794-4,4-4c0.117,0,0.23,0.017,0.343,0.032l0.141,0.019 c0.021,0.003,0.041,0.004,0.062,0.004c0.246,0,0.462-0.185,0.495-0.437C57.232,66.125,58.504,65,60,65 c0.885,0,1.723,0.401,2.301,1.1c0.098,0.118,0.241,0.182,0.386,0.182c0.078,0,0.156-0.018,0.228-0.056 c0.209-0.107,0.314-0.346,0.254-0.573C63.054,65.218,63,64.852,63,64.5c0-2.481,2.019-4.5,4.5-4.5c2.381,0,4.347,1.872,4.474,4.263 c0.011,0.208,0.15,0.387,0.349,0.45c0.05,0.016,0.101,0.024,0.152,0.024c0.15,0,0.296-0.069,0.392-0.192 C73.638,63.563,74.779,63,76,63c2.206,0,4,1.794,4,4c0,0.117-0.017,0.23-0.032,0.343l-0.019,0.141 c-0.016,0.134,0.022,0.268,0.106,0.373c0.084,0.105,0.207,0.172,0.34,0.185C82.451,68.247,84,69.949,84,72c0,2.206-1.794,4-4,4 h-5.5c-0.276,0-0.5,0.224-0.5,0.5s0.224,0.5,0.5,0.5H80c2.757,0,5-2.243,5-5c0-2.397-1.689-4.413-4.003-4.877 C80.999,67.082,81,67.041,81,67c0-2.757-2.243-5-5-5c-1.176,0-2.293,0.416-3.183,1.164C72.219,60.76,70.055,59,67.5,59L67.5,59z"></path><path fill="#472b29" d="M66 66c-1.403 0-2.609.999-2.913 2.341C62.72 68.119 62.301 68 61.875 68c-1.202 0-2.198.897-2.353 2.068C59.319 70.022 59.126 70 58.937 70c-1.529 0-2.811 1.2-2.918 2.732C56.01 72.87 56.114 72.99 56.251 73c.006 0 .012 0 .018 0 .13 0 .24-.101.249-.232.089-1.271 1.151-2.268 2.419-2.268.229 0 .47.042.738.127.022.007.045.01.067.01.055 0 .11-.02.156-.054C59.962 70.537 60 70.455 60 70.375c0-1.034.841-1.875 1.875-1.875.447 0 .885.168 1.231.473.047.041.106.063.165.063.032 0 .063-.006.093-.019.088-.035.148-.117.155-.212C63.623 67.512 64.712 66.5 66 66.5c.208 0 .425.034.682.107.023.007.047.01.07.01.109 0 .207-.073.239-.182.038-.133-.039-.271-.172-.309C66.517 66.04 66.256 66 66 66L66 66zM79.883 67.5c-1.326 0-2.508.897-2.874 2.182-.038.133.039.271.172.309C77.205 69.997 77.228 70 77.25 70c.109 0 .209-.072.24-.182C77.795 68.748 78.779 68 79.883 68c.117 0 .23.014.342.029.012.002.023.003.035.003.121 0 .229-.092.246-.217.019-.137-.077-.263-.214-.281C80.158 67.516 80.022 67.5 79.883 67.5L79.883 67.5z"></path></g><g><path fill="#fff" d="M81.5 50h-9c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h9c.276 0 .5.224.5.5S81.776 50 81.5 50zM89.5 46h-10c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h10c.276 0 .5.224.5.5S89.777 46 89.5 46zM77.5 46h-1c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h1c.276 0 .5.224.5.5S77.776 46 77.5 46zM74.47 46H72.5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h1.97c.276 0 .5.224.5.5S74.746 46 74.47 46zM89.5 50h-2c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h2c.276 0 .5.224.5.5S89.776 50 89.5 50zM85.47 50H83.5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h1.97c.276 0 .5.224.5.5S85.746 50 85.47 50zM85.5 48h-9c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h9c.276 0 .5.224.5.5S85.776 48 85.5 48z"></path></g>
</svg></button>
                                </div>
                            </div>
                        </div>
                    ))}
                </div>
            )}

            {/* Pagination Controls */}
            <div className="pagination mt-4 d-flex justify-content-center align-items-center">
                <button className="btn btn-primary me-2 pagination-btn"
                    onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}
                    disabled={currentPage === 1}>
                    Previous
                </button>
                <span>{currentPage} of {totalPages}</span>
                <button className="btn btn-primary ms-2 pagination-btn"
                    onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}
                    disabled={currentPage === totalPages}>
                    Next
                </button>
            </div>
        </div>
    );
};

export default ProductManagement;
